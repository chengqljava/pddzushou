<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>助手管理系统</title>
    <meta name="keyword" content="">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="renderer" content="webkit">
    <meta name="Author" content="zifan">
    <meta name="copyright" content="上海屋瓴版权所有。All Rights Reserved">
    <link href="${ctxPath}/static/css/bootstrap.min.css" rel="stylesheet">
    <link href="${ctxPath}/static/font-awesome/css/font-awesome.css" rel="stylesheet">
    <link href="${ctxPath}/static/css/plugins/toastr/toastr.min.css" rel="stylesheet">
    <link href="${ctxPath}/static/css/plugins/chosen/chosen.css" rel="stylesheet">
    <link href="${ctxPath}/static/css/plugins/fileinput/fileinput.min.css" rel="stylesheet">
    <link href="${ctxPath}/static/css/animate.css" rel="stylesheet">
    <link href="${ctxPath}/static/css/style.css" rel="stylesheet">

</head>
<body class="fixed-sidebar">

<!--主体开始-->
<div id="wrapper">

        <!--------当前位置----->
        <div class="row  border-bottom white-bg page-heading">
            <div class="col-sm-4">
                <h2>注册</h2>
            </div>
        </div>

        <!-----内容区域---->
        <div class="wrapper wrapper-content animated fadeInRight">
            <div class="ibox float-e-margins ">
                <div class="ibox-content p-t-slg">
                    <form name="entity" id="input_form" class="form-horizontal">

                        <div class="form-group">
                            <label class="col-sm-2 control-label">用户名称 <span class="text-danger">*</span></label>
                            <div class="col-sm-10"> <input type="text" id="userName" name="userName" value="" placeholder="请输入用户名称"  class="form-control" required></div>
                        </div>

                        <div class="form-group">
                            <label class="col-sm-2 control-label">手机号  <span class="text-danger">*</span></label>
                            <div class="col-sm-10">
                                    <input type="text" id="phone" name="phone" value="" placeholder="请输入手机号"  class="form-control" required>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="col-sm-2 control-label">确认手机号  <span class="text-danger">*</span></label>
                            <div class="col-sm-10">
                                <input type="text"  id="confirmPhone" name="confirmPhone" value="" placeholder="请输入确认手机号"  class="form-control" required>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-sm-2 control-label">密码  <span class="text-danger">*</span></label>
                            <div class="col-sm-10">
                                <input type="password" id="password" name="password" value="" placeholder="请输入密码"  class="form-control" required>
                            </div>
                        </div>

                        <div class="hr-line-dashed"></div>
                        <div class="form-group">
                            <div class="col-sm-4 col-sm-offset-2">
                                <button class="btn btn-primary" type="submit"><i class="fa fa-check"></i> 提交</button>
                                <button class="btn btn-white" type="reset">取消</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
        <!-----内容结束----->


        <!----版权信息----->
        <div class="footer">
            <div class="pull-right">
                10GB of <strong>250GB</strong> Free.
            </div>
            <div>
                <strong>Copyright</strong> Example Company &copy; 2014-2015
            </div>
        </div>



</div>
<!--主体结束-->

<!-- 全局 scripts -->
<script src="${ctxPath}/static/js/jquery-2.1.1.js"></script>
<script src="${ctxPath}/static/js/bootstrap.js"></script>
<!-- <script src="${ctxPath}/static/js/wuling.js"></script>
 --><script src="${ctxPath}/static/js/plugins/pace/pace.min.js"></script>
<script src="${ctxPath}/static/js/plugins/validate/jquery.validate.min.js"></script>

<script src="${ctxPath}/static/js/plugins/slimscroll/jquery.slimscroll.min.js"></script>
<script src="${ctxPath}/static/js/plugins/metisMenu/jquery.metisMenu.js"></script>


<script>

    $(document).ready(function () {

    	$("#input_form").validate({
    		rules: {
    			"userName":{
    				required:true,
    				minlength:3,
    				maxlength:10
    			},
    			"phone":{
    				required: true,
    				minlength:11,
    				maxlength:11,
    				digits:true
    			},"confirmPhone":{
    				required: true,
    				minlength:11,
    				maxlength:11,
    				digits:true,
    				equalTo:'#phone'
    			},
    			"password":{
    				required:true,
    				minlength:6,
    				maxlength:20
    			}
    			
    		},
    		messages: {
    			"userName":{
    				required:"请输入用户名",
    				minlength:"最小长度为3",
    				maxlength:"最大长度为10"
    			},
    			"phone":{
    				required: "请输入手机号",
    				minlength:"最小长度11",
    				maxlength:"最大长度11",
    				digits:"请输入正整数"
    			},"confirmPhone":{
    				required: "请输入手机号",
    				minlength:"最小长度11",
    				maxlength:"最大长度11",
    				digits:"请输入正整数",
    				equalTo:'两次输入手机号不同'
    			},
    			"password":{
    				required:"请输入密码",
    				minlength:"最小长度为8",
    				maxlength:"最大长度为20"
    			}
    		},
    		submitHandler: function (form) {
    			
    			$.ajax(
    	                {
    	                    url: '${ctxPath}/register/save',
    	                    type: "post",
    	                    data: $(form).serialize(),
    	                    dataType:"json",
    	                    success: function (data) {
    	                    	if(data.success){
    	                    		location.href='${ctxPath}/shop/list/';
    	                    	}else{
    	                    		alert(data.message);
    	                    	}
    	                    },
    	                    error:function(error){
    	                       alert(error);
    	                    }
    	                }
    	            );
            }

       
    });
    });

</script>
</body>
</html>